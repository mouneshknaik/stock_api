"use strict";(self.webpackChunkbasic_app=self.webpackChunkbasic_app||[]).push([[351],{8351:(N,d,u)=>{u.r(d),u.d(d,{LiveWatchModule:()=>O});var s=u(8583),n=u(7716),p=u(1841),f=u(2542),m=u(3679),Z=u(5396);function x(i,o){1&i&&(n.TgZ(0,"span"),n._uU(1,"ing..!"),n.qZA())}function T(i,o){1&i&&(n.TgZ(0,"small",12),n._uU(1,"(Loading...)"),n.qZA())}function A(i,o){if(1&i&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.TgZ(3,"small"),n._uU(4),n.qZA(),n._uU(5,")"),n.qZA(),n.TgZ(6,"td"),n._uU(7),n.qZA(),n.TgZ(8,"td"),n.TgZ(9,"span",13),n._uU(10),n.ALo(11,"number"),n.qZA(),n.qZA(),n.TgZ(12,"td"),n.TgZ(13,"span",13),n._uU(14),n.ALo(15,"number"),n.qZA(),n.qZA(),n.TgZ(16,"td"),n.TgZ(17,"span",13),n._uU(18),n.ALo(19,"number"),n.qZA(),n.qZA(),n.TgZ(20,"td"),n.TgZ(21,"span",13),n._uU(22),n.ALo(23,"number"),n.qZA(),n.qZA(),n.TgZ(24,"td"),n.TgZ(25,"span",13),n._uU(26),n.ALo(27,"number"),n.qZA(),n.qZA(),n.qZA()),2&i){const t=o.$implicit;n.xp6(2),n.hij("",null==t?null:t.title,"("),n.xp6(2),n.Oqu(null==t?null:t.symbol),n.xp6(3),n.Oqu(null==t?null:t.last_price),n.xp6(2),n.Q6J("ngClass",(null==t||null==t.moving_diff20?null:t.moving_diff20.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(11,13,null==t||null==t.moving_diff20?null:t.moving_diff20.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.moving_diff50?null:t.moving_diff50.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(15,16,null==t||null==t.moving_diff50?null:t.moving_diff50.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.diff_amount?null:t.diff_amount.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(19,19,null==t||null==t.diff_amount?null:t.diff_amount.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.stocastic14?null:t.stocastic14.diff)>50?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(23,22,null==t||null==t.stocastic14?null:t.stocastic14.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.stocastic50?null:t.stocastic50.diff)>50?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(27,25,null==t||null==t.stocastic50?null:t.stocastic50.diff,"1.2-2"))}}function C(i,o){if(1&i){const t=n.EpF();n.TgZ(0,"table",9),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th"),n._uU(4,"SYMBOL"),n.YNc(5,T,2,0,"small",10),n.qZA(),n.TgZ(6,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("last_price","")}),n._uU(7,"last price"),n.qZA(),n.TgZ(8,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("moving_diff20","")}),n._uU(9,"moving 20"),n.qZA(),n.TgZ(10,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("moving_diff50","")}),n._uU(11,"moving 50"),n.qZA(),n.TgZ(12,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("diff_amount","")}),n._uU(13,"Diff Amount"),n.qZA(),n.TgZ(14,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("stocastic14","")}),n._uU(15,"Stocastic 14"),n.qZA(),n.TgZ(16,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("stocastic50","")}),n._uU(17,"Stocastic 50"),n.qZA(),n.qZA(),n.qZA(),n.YNc(18,A,28,28,"tr",11),n.qZA()}if(2&i){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.loading),n.xp6(13),n.Q6J("ngForOf",t.liveData)}}function q(i,o){1&i&&(n.TgZ(0,"small",12),n._uU(1,"(Loading...)"),n.qZA())}function b(i,o){if(1&i&&(n.TgZ(0,"tr"),n.TgZ(1,"td"),n._uU(2),n.TgZ(3,"small"),n._uU(4),n.qZA(),n._uU(5,")"),n.qZA(),n.TgZ(6,"td"),n.TgZ(7,"span",14),n._uU(8),n.qZA(),n._uU(9,"/"),n.TgZ(10,"span",12),n._uU(11),n.qZA(),n.qZA(),n.TgZ(12,"td"),n.TgZ(13,"span",13),n._uU(14),n.ALo(15,"number"),n.qZA(),n.qZA(),n.TgZ(16,"td"),n.TgZ(17,"span",13),n._uU(18),n.ALo(19,"number"),n.qZA(),n.qZA(),n.TgZ(20,"td"),n.TgZ(21,"span",13),n._uU(22),n.ALo(23,"number"),n.qZA(),n.qZA(),n.TgZ(24,"td"),n.TgZ(25,"span",13),n._uU(26),n.ALo(27,"number"),n.qZA(),n.qZA(),n.TgZ(28,"td"),n.TgZ(29,"span",13),n._uU(30),n.ALo(31,"number"),n.qZA(),n.qZA(),n.TgZ(32,"td"),n.TgZ(33,"span",13),n._uU(34),n.ALo(35,"number"),n.qZA(),n.qZA(),n.TgZ(36,"td"),n.TgZ(37,"span",13),n._uU(38),n.ALo(39,"number"),n.qZA(),n.qZA(),n.TgZ(40,"td"),n.TgZ(41,"span",13),n._uU(42),n.ALo(43,"number"),n.qZA(),n.qZA(),n.TgZ(44,"td"),n.TgZ(45,"span",13),n._uU(46),n.ALo(47,"number"),n.qZA(),n.qZA(),n.TgZ(48,"td"),n.TgZ(49,"span",13),n._uU(50),n.ALo(51,"number"),n.qZA(),n.qZA(),n.TgZ(52,"td"),n.TgZ(53,"span",13),n._uU(54),n.ALo(55,"number"),n.qZA(),n.qZA(),n.TgZ(56,"td"),n.TgZ(57,"span",13),n._uU(58),n.ALo(59,"number"),n.qZA(),n.qZA(),n.TgZ(60,"td"),n.TgZ(61,"span",13),n._uU(62),n.ALo(63,"number"),n.qZA(),n.qZA(),n.TgZ(64,"td"),n.TgZ(65,"span",13),n._uU(66),n.ALo(67,"number"),n.qZA(),n.qZA(),n.TgZ(68,"td"),n.TgZ(69,"span",13),n._uU(70),n.ALo(71,"number"),n.qZA(),n.qZA(),n.qZA()),2&i){const t=o.$implicit;n.xp6(2),n.hij("",null==t?null:t.title,"("),n.xp6(2),n.Oqu(null==t?null:t.symbol),n.xp6(4),n.Oqu(null==t||null==t.gain?null:t.gain.diff),n.xp6(3),n.Oqu(null==t||null==t.loss?null:t.loss.diff),n.xp6(2),n.Q6J("ngClass",(null==t||null==t.todayDiff?null:t.todayDiff.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(15,34,null==t||null==t.todayDiff?null:t.todayDiff.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min3?null:t.min3.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(19,37,null==t||null==t.min3?null:t.min3.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min5?null:t.min5.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(23,40,null==t||null==t.min5?null:t.min5.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min8?null:t.min8.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(27,43,null==t||null==t.min8?null:t.min8.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min10?null:t.min10.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(31,46,null==t||null==t.min10?null:t.min10.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min15?null:t.min15.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(35,49,null==t||null==t.min15?null:t.min15.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min25?null:t.min25.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(39,52,null==t||null==t.min25?null:t.min25.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min45?null:t.min45.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(43,55,null==t||null==t.min45?null:t.min45.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min60?null:t.min60.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(47,58,null==t||null==t.min60?null:t.min60.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min90?null:t.min90.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(51,61,null==t||null==t.min90?null:t.min90.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min120?null:t.min120.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(55,64,null==t||null==t.min120?null:t.min120.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min180?null:t.min180.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(59,67,null==t||null==t.min180?null:t.min180.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min240?null:t.min240.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(63,70,null==t||null==t.min240?null:t.min240.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min300?null:t.min300.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(67,73,null==t||null==t.min300?null:t.min300.diff,"1.2-2")),n.xp6(3),n.Q6J("ngClass",(null==t||null==t.min360?null:t.min360.diff)>0?"active":"inactive"),n.xp6(1),n.Oqu(n.xi3(71,76,null==t||null==t.min360?null:t.min360.diff,"1.2-2"))}}function L(i,o){if(1&i){const t=n.EpF();n.TgZ(0,"table",9),n.TgZ(1,"thead"),n.TgZ(2,"tr"),n.TgZ(3,"th"),n._uU(4,"SYMBOL"),n.YNc(5,q,2,0,"small",10),n.qZA(),n.TgZ(6,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("gain","")}),n._uU(7,"Slow Gain/Loss"),n.qZA(),n.TgZ(8,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("todayDiff","")}),n._uU(9,"Diff(%)"),n.qZA(),n.TgZ(10,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min3","")}),n._uU(11,"3Min"),n.qZA(),n.TgZ(12,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min5","")}),n._uU(13,"5Min"),n.qZA(),n.TgZ(14,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min8","")}),n._uU(15,"8Min"),n.qZA(),n.TgZ(16,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min10","")}),n._uU(17,"10Min"),n.qZA(),n.TgZ(18,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min15","")}),n._uU(19,"15Min"),n.qZA(),n.TgZ(20,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min25","")}),n._uU(21,"25Min"),n.qZA(),n.TgZ(22,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min45","")}),n._uU(23,"45Min"),n.qZA(),n.TgZ(24,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min60","")}),n._uU(25,"60Min"),n.qZA(),n.TgZ(26,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min90","")}),n._uU(27,"90Min"),n.qZA(),n.TgZ(28,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min120","")}),n._uU(29,"120Min"),n.qZA(),n.TgZ(30,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min180","")}),n._uU(31,"180Min"),n.qZA(),n.TgZ(32,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min240","")}),n._uU(33,"240Min"),n.qZA(),n.TgZ(34,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min300","")}),n._uU(35,"300Min"),n.qZA(),n.TgZ(36,"th",6),n.NdJ("click",function(){return n.CHM(t),n.oxw().sort("min360","")}),n._uU(37,"360Min"),n.qZA(),n.qZA(),n.qZA(),n.YNc(38,b,72,79,"tr",11),n.qZA()}if(2&i){const t=n.oxw();n.xp6(5),n.Q6J("ngIf",t.loading),n.xp6(33),n.Q6J("ngForOf",t.liveData)}}let U=(()=>{class i{constructor(t){this.http=t,this.openOrder="desc",this.toggle_isChecked=!0,this.basisSelected="daily"}ngOnInit(){this.liveAverage();let t=21600;(new Date).getHours()>=8&&(new Date).getHours()<=15&&(t=60),setInterval(()=>{},1e3*t)}changedbasis(){console.log(this.basisSelected),this.getLiveWatch()}changedtoggle(){console.log(this.toggle_isChecked),this.toggle_isChecked?this.liveAverage():this.getLiveWatch()}getLiveWatch(){this.loading=!0,this.liveData=[],this.http.get("http://localhost:3000/watchtimefram?basis="+this.basisSelected).subscribe(t=>{this.liveData=t,this.liveData.map(l=>{let c=Object.values(l).filter(a=>null==a?void 0:a.diff),_=0,g=0;c.map(a=>{(null==a?void 0:a.diff)>=0?_++:g++});let r={};r.diff=_;let h={};return h.diff=g,l.gain=r,l.loss=h,l}),this.loading=!1,this.sort("todayDiff","desc"),console.log(t)})}liveAverage(){this.loading=!0,this.liveData=[],this.http.get("http://localhost:3000/moving-average").subscribe(t=>{this.liveData=t,this.liveData.map(l=>{let e={},c={};e.diff=((null==l?void 0:l.last_price)-(null==l?void 0:l.moving_avarage_20))/(null==l?void 0:l.moving_avarage_20)*100,l.moving_diff20=e,c.diff=((null==l?void 0:l.last_price)-(null==l?void 0:l.moving_avarage_50))/(null==l?void 0:l.moving_avarage_50)*100,l.moving_diff50=c;let _={};_.diff=(null==l?void 0:l.last_price)-(null==l?void 0:l.moving_avarage_20);let g={};g.diff=null==l?void 0:l.stocastic14,l.stocastic14=g;let r={};r.diff=l.stocastic50,l.stocastic50=r,l.diff_amount=_,this.loading=!1})})}sort(t,l){l||(this.toggle(),l=this.openOrder),"asc"==l?this.assendingOrder(t):this.descOrder(t)}toggle(){this.openOrder="desc"==this.openOrder?"asc":"desc"}assendingOrder(t){this.liveData.sort((l,e)=>l[t].diff>e[t].diff?1:-1)}descOrder(t){this.liveData.sort((l,e)=>l[t].diff<e[t].diff?1:-1)}}return i.\u0275fac=function(t){return new(t||i)(n.Y36(p.eN))},i.\u0275cmp=n.Xpm({type:i,selectors:[["app-live-watch"]],decls:16,vars:5,consts:[["name","fontStyle","aria-label","Font Style",3,"ngModel","ngModelChange"],["value","daily"],["value","weekly"],["value","monthly"],["value","1y"],[3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],["style","border: 1px gray;","class","table",4,"ngIf"],[1,"table",2,"border","1px gray"],["ngClass","inactive",4,"ngIf"],[4,"ngFor","ngForOf"],["ngClass","inactive"],[3,"ngClass"],["ngClass","active"]],template:function(t,l){1&t&&(n.TgZ(0,"mat-button-toggle-group",0),n.NdJ("ngModelChange",function(c){return l.basisSelected=c})("ngModelChange",function(){return l.changedbasis()}),n.TgZ(1,"mat-button-toggle",1),n._uU(2,"daily"),n.qZA(),n.TgZ(3,"mat-button-toggle",2),n._uU(4,"weekly"),n.qZA(),n.TgZ(5,"mat-button-toggle",3),n._uU(6,"monthly"),n.qZA(),n.TgZ(7,"mat-button-toggle",4),n._uU(8,"1y"),n.qZA(),n.qZA(),n.TgZ(9,"mat-slide-toggle",5),n.NdJ("ngModelChange",function(c){return l.toggle_isChecked=c})("ngModelChange",function(){return l.changedtoggle()}),n._uU(10,"Average/Live Changes"),n.qZA(),n.TgZ(11,"button",6),n.NdJ("click",function(){return l.changedtoggle()}),n._uU(12,"Reload"),n.YNc(13,x,2,0,"span",7),n.qZA(),n.YNc(14,C,19,2,"table",8),n.YNc(15,L,39,2,"table",8)),2&t&&(n.Q6J("ngModel",l.basisSelected),n.xp6(9),n.Q6J("ngModel",l.toggle_isChecked),n.xp6(4),n.Q6J("ngIf",l.loading),n.xp6(1),n.Q6J("ngIf",l.toggle_isChecked),n.xp6(1),n.Q6J("ngIf",!l.toggle_isChecked))},directives:[f.A9,m.JJ,m.On,f.Yi,Z.Rr,s.O5,s.sg,s.mk],pipes:[s.JJ],styles:["tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:solid thin;min-width:68px!important}th[_ngcontent-%COMP%]{cursor:pointer}"]}),i})();var v=u(15);const M=[{path:"",component:U}];let J=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[v.Bz.forChild(M)],v.Bz]}),i})();var k=u(1095),W=u(9983);let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.oAB({type:i}),i.\u0275inj=n.cJS({imports:[[s.ez,p.JF,J,m.u5,m.UX,k.ot,W.c,f.vV,Z.rP]]}),i})()}}]);